# LLM CONTEXT FILE — Paste This at the Start of Every New Session

> You are helping build the Market Regime Intelligence (MRI) viability prototype.
> Read this entire file before writing any code or giving any advice.

---

## Project in One Line
A rule-based Python backtesting engine for NSE Indian equities that tests whether
a Market Regime Filter + Stock Trend Score model beats Nifty buy-and-hold
on a risk-adjusted basis.

## This is NOT
- A SaaS product (yet)
- A trading bot or signal service
- A buy/sell recommendation engine

## This IS
- A 10-day research prototype
- A DevOps portfolio project (AWS-first)
- A viability test before committing to SaaS engineering

## Owner Profile
- Solo developer, full-stack + AWS DevOps background
- Comfortable with: Python, PostgreSQL, Docker, Terraform, AWS (ECS, RDS, S3, CloudWatch, Secrets Manager)
- AWS region: ap-south-1 (Mumbai)
- Works in WSL/Linux terminal

## Tech Stack
- Quant Engine: Python (pandas, numpy, scipy, matplotlib)
- Database: PostgreSQL on AWS RDS (db.t3.micro)
- Containerization: Docker
- Orchestration: AWS ECS Fargate (scheduled batch tasks)
- Infrastructure: Terraform (modular — vpc, rds, ecs, s3, iam)
- CI/CD: GitHub Actions → ECR → ECS
- Storage: AWS S3 (outputs, reports)
- Secrets: AWS Secrets Manager
- Monitoring: CloudWatch

## Repo Structure
/mri-intelligence/
  terraform/environments/dev/   ← Terraform entry point
  terraform/modules/            ← vpc, rds, ecs, s3, iam
  src/                          ← All Python quant modules
  outputs/                      ← CSV + PDF results
  Dockerfile
  requirements.txt
  README.md
  SESSION.md       ← Read this for full session history
  DECISIONS.md     ← Read this before suggesting architecture changes
  PROGRESS.md      ← Read this to know what is done and what is next

## Execution Rules (CRITICAL — Follow Always)
1. One module at a time. Complete and verify before moving to next.
2. Every module must have a clear DONE criteria before we move on.
3. No adding features not in PROGRESS.md scope.
4. No microservices. Single container.
5. No ML. No intraday. No UI in prototype.
6. Every architectural change must be logged in DECISIONS.md.
7. Every session end must update SESSION.md and PROGRESS.md.
8. If unsure about a decision — check DECISIONS.md first before asking the developer.

## Current Status
> Check PROGRESS.md for exact current state.
> Check SESSION.md → last entry for "Next Session Must Start With."

## Go/No-Go Criteria (Do Not Change These)
- CAGR > Nifty CAGR
- Max Drawdown < Nifty Drawdown
- Sharpe ≥ 1.0
- Walk-forward Sharpe ≥ 0.8
- Stable across 3+ market regimes
- Survives doubled transaction cost

## How to Respond to the Developer
- Give exact, copy-pastable code only
- State the filename at the top of every code block
- State the DONE criteria after every module
- Never give partial code — always give the complete file
- Never suggest scope beyond current day's task in PROGRESS.md
